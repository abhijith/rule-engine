Request attributes
-------------------
:name, :category, :preferences, :country, :language


Advert attributes
-----------------
:name, :start-date, :end-date, :category, :country, :language

Design:
-------
* Rule
 - Operands
 - Operators

* Rule Evaluator
  * bind request to rule
  * bind ad to rule
  * evaluate / interpret
  * returns true | false

* All Ads which eval to true are picked


Example:
--------

(:request-language is-member :ad-language)
AND
(:request-category equal-to :ad-category)
OR
(:request-category is-a :ad-category)

Operands:
	request-category, :ad-category, :request-language, :ad-language

Operators or functions:
	is-member, equal-to, is-a

Dispatch: apply fn request-attrs ad-attrs


Flow
----
* Request comes in via http possibly
* Prepare request attributes
* Prepare Ad attributes for an Ad
* Fill the form with both request and ad attributes
* Evaluate rule

- Do this for each Ad to get all eligible ads
- Update counters and other book keeping information (if any)
- Response complete
